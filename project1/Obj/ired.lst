C51 COMPILER V9.01   IRED                                                                  12/12/2025 15:42:57 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE IRED
OBJECT MODULE PLACED IN .\Obj\ired.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE App\IRED\ired.c BROWSE INCDIR(.\App\BEEP;.\App\LED;.\Public) DEBUG OBJECTEX
                    -TEND PRINT(.\Obj\ired.lst) OBJECT(.\Obj\ired.obj)

line level    source

   1          #include "ired.h"
   2          
   3          void ired_init0(void)
   4          {
   5   1              IT0=1;  
   6   1              EX0=1;
   7   1              EA=1;
   8   1              ired1=1;
   9   1      
  10   1      }
  11          
  12          void ired() interrupt 0
  13          {
  14   1      
  15   1              u8 ired_high_time = 0;
  16   1              u16 time_cnt = 0;
  17   1              u8 i=0,j=0;
  18   1              
  19   1              if(ired1==0)
  20   1              {
  21   2                      time_cnt=1000;
  22   2                      while((!ired1)&&(time_cnt))
  23   2                      {
  24   3                              delay_10us(1);
  25   3                              time_cnt--;
  26   3                              if(time_cnt == 0) return;
  27   3                      }
  28   2      
  29   2                      if(ired1)
  30   2                      {
  31   3                              time_cnt=500;
  32   3                              while(ired1&&time_cnt)
  33   3                              {
  34   4                                      delay_10us(1);
  35   4                                      time_cnt--;
  36   4                                      if(time_cnt==0) return;
  37   4                              }
  38   3      
  39   3                              for(i=0;i<4;i++)
  40   3                              {
  41   4                                      for(i=0;i<8;i++)
  42   4                                      {
  43   5                                              time_cnt=600;
  44   5                                              while((ired==0)&&time_cnt)
  45   5                                              {
  46   6                                                      delay_10us(1);
  47   6                                                      time_cnt--;
  48   6                                                      if(time_cnt==0) return;
  49   6                                              }
  50   5      
  51   5                                              time_cnt=20;
  52   5                                              while(ired)
*** WARNING C276 IN LINE 52 OF APP\IRED\IRED.C: constant in condition expression
  53   5                                              {
C51 COMPILER V9.01   IRED                                                                  12/12/2025 15:42:57 PAGE 2   

  54   6                                                      delay_10us(10);
  55   6                                                      ired_high_time++;
  56   6                                                      if(ired_high_time>20) return;
  57   6                                              }
  58   5                                              gired_data[i]>>=1;
  59   5                                              if(ired_high_time>=8)
  60   5                                              gired_data[i]|=0x80;
  61   5                                              ired_high_time=0;               
  62   5                                      }       
  63   4                              }
  64   3                      
  65   3                      }
  66   2                      if(gired_data[2]!=~gired_data[3])
  67   2                      {
  68   3                              for(i=0;i<4;i++)
  69   3                              {
  70   4                                      gired_data[i]=0;
  71   4                                      return;
  72   4                              }
  73   3                      }
  74   2                              
  75   2              }       
  76   1      
  77   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    319    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
