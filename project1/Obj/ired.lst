C51 COMPILER V9.01   IRED                                                                  12/19/2025 15:34:42 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE IRED
OBJECT MODULE PLACED IN .\Obj\ired.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE App\IRED\ired.c BROWSE INCDIR(.\Public;.\App\IRED;.\App\smg;.\App\BEEP;.\Ap
                    -p\LED;.\App\lcd1602;.\App\rectanglekey;.\App\ds1302) DEBUG OBJECTEXTEND PRINT(.\Obj\ired.lst) OBJECT(.\Obj\ired.obj)

line level    source

   1          #include "ired.h"
   2          
   3          u8 gired_data[4];
   4          
   5          void ired_init(void)
   6          {
   7   1              IT0=1;  
   8   1              EX0=1;
   9   1              EA=1;
  10   1              ired1=1;
  11   1      
  12   1      }
  13          
  14          void ired() interrupt 0
  15          {
  16   1      
  17   1              u8 ired_high_time = 0;
  18   1              u16 time_cnt = 0;
  19   1              u8 i=0,j=0;
  20   1              
  21   1              if(ired1==0)
  22   1              {
  23   2                      time_cnt=1000;
  24   2                      while((!ired1)&&(time_cnt))
  25   2                      {
  26   3                              delay_10us(1);
  27   3                              time_cnt--;
  28   3                              if(time_cnt == 0) return;
  29   3                      }
  30   2      
  31   2                      if(ired1)
  32   2                      {
  33   3                              time_cnt=500;
  34   3                              while(ired1&&time_cnt)
  35   3                              {
  36   4                                      delay_10us(1);
  37   4                                      time_cnt--;
  38   4                                      if(time_cnt==0) return;
  39   4                              }
  40   3      
  41   3                              for(i=0;i<4;i++)
  42   3                              {
  43   4                                      for(j=0;j<8;j++)
  44   4                                      {
  45   5                                              time_cnt=600;
  46   5                                              while((ired1==0)&&time_cnt)
  47   5                                              {
  48   6                                                      delay_10us(1);
  49   6                                                      time_cnt--;
  50   6                                                      if(time_cnt==0) return;
  51   6                                              }
  52   5      
  53   5                                              time_cnt=20;
  54   5                                              while(ired1)
C51 COMPILER V9.01   IRED                                                                  12/19/2025 15:34:42 PAGE 2   

  55   5                                              {
  56   6                                                      delay_10us(10);
  57   6                                                      ired_high_time++;
  58   6                                                      if(ired_high_time>20) return;
  59   6                                              }
  60   5                                              gired_data[i]>>=1;
  61   5                                              if(ired_high_time>=8)
  62   5                                              gired_data[i]|=0x80;
  63   5                                              ired_high_time=0;               
  64   5                                      }       
  65   4                              }
  66   3                      
  67   3                      }
  68   2                      if(gired_data[2]!=~gired_data[3])
  69   2                      {
  70   3                              for(i=0;i<4;i++)
  71   3                              gired_data[i]=0;
  72   3                              return;
  73   3                              
  74   3                      }
  75   2                              
  76   2              }       
  77   1      
  78   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    315    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
